<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CS 100ì¼</title>
  <style>
    body { font-family: Arial, sans-serif; width: 1000px; margin: auto; padding: 1rem; }
    ul { list-style:none; border: 1px solid #c4c2c2; padding: 1rem; border-radius: 8px; box-shadow: 0 0 6px rgba(0,0,0,0.1); }
    li { position:relative; padding-left: 2em; margin: 10px 0;}
    li::before {  content: "âœğŸ»"; position: absolute; left: 0; top: 0; font-size: 1em; line-height: 1;}
    li a { color: inherit; text-decoration:none; font-size: large;}
    li a:active { color: inherit; }
    li:hover { font-size: larger; font-weight: bold; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
  <h1>CS 100ì¼</h1>
  <ul id="topic-list">
      <!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì±„ì›€ -->
  </ul>

<script>
  const owner = "hseonjin";   // ì—¬ê¸°ì— ë³¸ì¸ ê¹ƒí—ˆë¸Œ ì•„ì´ë”” ë„£ê¸°
  const repo = "hseonjin.github.io";           // ë³¸ì¸ ë ˆí¬ì§€í† ë¦¬ ì´ë¦„ ë„£ê¸°
  const folder = "study";         // md íŒŒì¼ë“¤ì´ ë“¤ì–´ìˆëŠ” í´ë”ëª…

  const listEl = document.getElementById("topic-list");
  const contentEl = document.getElementById("md-content");

  async function fetchTopicFiles() {
    const apiUrl = `https://api.github.com/repos/${owner}/${repo}/contents/${folder}`;
    try {
      const res = await fetch(apiUrl);
      if (!res.ok) throw new Error(`API í˜¸ì¶œ ì‹¤íŒ¨: ${res.status}`);
      const files = await res.json();

      // md íŒŒì¼ë§Œ í•„í„°ë§í•˜ê³ , ì •ë ¬(íŒŒì¼ëª… ìˆ«ì ê¸°ì¤€)
      const mdFiles = files
        .filter(f => f.name.endsWith(".md"))
        .sort((a, b) => a.name.localeCompare(b.name, undefined, { numeric: true }));

      listEl.innerHTML = ""; // ì´ˆê¸°í™”
      mdFiles.forEach(file => {
        // íŒŒì¼ëª…ì—ì„œ ì• ë²ˆí˜¸ ì œê±°í•˜ê³  ì œëª© ì¶”ì¶œ (ì–¸ë”ë°” _ ëŠ” ë„ì–´ì“°ê¸°)
        const title = file.name.replace(/^\d+_/, "").replace(".md", "").replace(/_/g, " ");
        const li = document.createElement("li");
        const a = document.createElement("a");
        a.href = `mdfile.html?file=${encodeURIComponent(file.name)}`;
        a.textContent = title;
        li.appendChild(a);
        listEl.appendChild(li);
      });

    } catch (e) {
      listEl.innerHTML = `<li style="color:red;">ëª©ë¡ ë¡œë”© ì‹¤íŒ¨: ${e.message}</li>`;
    }
  }

  fetchTopicFiles();
</script>
</body>
</html>